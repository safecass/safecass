//------------------------------------------------------------------------
//
// CASROS: Component-based Architecture for Safe Robotic Systems
//
// Copyright (C) 2014 Min Yang Jung and Peter Kazanzides
//
//------------------------------------------------------------------------
//
// Created on   : May 6, 2012
// Last revision: Jul 8, 2014
// Author       : Min Yang Jung (myj@jhu.edu)
// Github       : https://github.com/minyang/casros
//
// This JSON file defines a set of framework filters that get installed to 
// each component in the system.  Currently, two filters defined are the
// exception filter and the overrun filter.  At this point, the names of 
// target components are unknown, but they will be replaced by the framework
// later when it deploys these framework filters.
//
// Note that these two filters are installed ONLY mtsTask-type components.
// If this design changes, mtsManagerLocal::AddComponent() should be updated
// accordingly (look for InstallFrameworkFilters() method).
//
{
    "filter" : [
        //-------------------------------------------------
        // Exception filter
        //
        {   // common fields
            "class_name"       : "FilterChangeDetection",
            "target_component" : "will_be_overwritten_by_casros_when_deployed",
            "type"             : "ACTIVE",
            // exception filter specific fields
            "argument" : {
                "input_signal" : "ExceptionCount",
                // name of event to be generated
                "event"        : "EVT_THREAD_EXCEPTION_DETECTED"
            },
            "last_filter"      : true
        },
        //-------------------------------------------------
        // Overrun filter
        //
        {   "class_name"       : "FilterChangeDetection",
            "target_component" : "will_be_overwritten_by_casros_when_deployed",
            "type"             : "ACTIVE",
            "argument" : {
                "input_signal" : "OverrunCount",
                "event"        : "EVT_THREAD_OVERRUN_DETECTED"
            },
            "last_filter"      : true
        }
    ]
}
